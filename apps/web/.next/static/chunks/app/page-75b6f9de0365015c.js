(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4676:function(e,t,a){Promise.resolve().then(a.bind(a,7568))},4046:function(){},1303:function(){},7568:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var r=a(7437),s=a(2265),n=a(4084);function i(e){let{budgetData:t}=e;return(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("h3",{children:"Budget AI Chat"}),(0,r.jsx)("p",{children:"Chat feature coming soon..."})]})}var l=a(1303),o=a.n(l),c=a(4046),d=a.n(c);n.kL.register(...n.zX);class m{setBudgetData(e){this.data=e}getBudgetSummary(){let e=this.data.reduce((e,t)=>e+(t.amount||0),0),t=this.data.length;return{totalBudget:e,totalItems:t,averageItemAmount:t>0?e/t:0,topDepartments:[...new Set(this.data.map(e=>e.department).filter(Boolean))]}}constructor(e=[]){this.data=e}}class u{static formatCurrency(e){return new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}}class p{static parseCSV(e){let t=e.split("\n"),a=t[0].split(",").map(e=>e.trim()),r=[];for(let e=1;e<t.length;e++)if(t[e].trim()){let s=t[e].split(",").map(e=>e.trim()),n={};a.forEach((e,t)=>{let a=s[t]||"";if(e.toLowerCase().includes("amount")||e.toLowerCase().includes("id")){let e=parseFloat(a);isNaN(e)||(a=e)}n[e]=a}),r.push(n)}return r}}let x=[{id:"1",name:"Road Infrastructure Development",amount:25e8,currency:"KES",category:"Infrastructure",department:"Ministry of Transport",year:2025,quarter:1,description:"Construction and maintenance of major highways",location:"Nairobi-Mombasa Highway",status:"planned"},{id:"2",name:"Digital Government Services",amount:8e8,currency:"KES",category:"Technology",department:"Ministry of ICT",year:2025,quarter:1,description:"E-government platform development",location:"Nairobi",status:"in_progress"},{id:"3",name:"Healthcare Equipment",amount:12e8,currency:"KES",category:"Healthcare",department:"Ministry of Health",year:2025,quarter:1,description:"Medical equipment for county hospitals",location:"Various Counties",status:"planned"},{id:"4",name:"Education Infrastructure",amount:18e8,currency:"KES",category:"Education",department:"Ministry of Education",year:2025,quarter:1,description:"Construction of new schools and classrooms",location:"Rural Areas",status:"planned"},{id:"5",name:"Agricultural Support Program",amount:95e7,currency:"KES",category:"Agriculture",department:"Ministry of Agriculture",year:2025,quarter:1,description:"Farming subsidies and equipment support",location:"Agricultural Counties",status:"in_progress"},{id:"6",name:"Water Supply Projects",amount:15e8,currency:"KES",category:"Infrastructure",department:"Ministry of Water",year:2025,quarter:1,description:"Rural water supply and sanitation projects",location:"Rural Counties",status:"planned"},{id:"7",name:"National Security Equipment",amount:22e8,currency:"KES",category:"Security",department:"Ministry of Interior",year:2025,quarter:1,description:"Police and security force equipment upgrades",location:"Nationwide",status:"planned"},{id:"8",name:"Energy Infrastructure",amount:3e9,currency:"KES",category:"Infrastructure",department:"Ministry of Energy",year:2025,quarter:1,description:"Renewable energy projects and grid expansion",location:"Various Counties",status:"planned"},{id:"9",name:"Public Housing",amount:18e8,currency:"KES",category:"Housing",department:"Ministry of Housing",year:2025,quarter:1,description:"Affordable housing units construction",location:"Urban Areas",status:"planned"},{id:"10",name:"Digital Skills Training",amount:4e8,currency:"KES",category:"Education",department:"Ministry of ICT",year:2025,quarter:1,description:"Digital literacy programs for youth",location:"Nationwide",status:"in_progress"},{id:"11",name:"County Road Networks",amount:12e8,currency:"KES",category:"Infrastructure",department:"County Governments",year:2025,quarter:1,description:"Local road construction and maintenance",location:"All Counties",status:"planned"},{id:"12",name:"Healthcare Training",amount:35e7,currency:"KES",category:"Healthcare",department:"Ministry of Health",year:2025,quarter:1,description:"Medical staff training and capacity building",location:"Nationwide",status:"planned"},{id:"13",name:"Agricultural Research",amount:28e7,currency:"KES",category:"Agriculture",department:"Ministry of Agriculture",year:2025,quarter:1,description:"Crop research and development programs",location:"Research Centers",status:"planned"},{id:"14",name:"Disaster Management",amount:45e7,currency:"KES",category:"Security",department:"Ministry of Interior",year:2025,quarter:1,description:"Emergency response equipment and training",location:"Nationwide",status:"planned"},{id:"15",name:"Public Transport",amount:65e7,currency:"KES",category:"Infrastructure",department:"Ministry of Transport",year:2025,quarter:1,description:"Public transport system improvements",location:"Major Cities",status:"planned"},{id:"16",name:"Digital Innovation Hub",amount:3e8,currency:"KES",category:"Technology",department:"Ministry of ICT",year:2025,quarter:1,description:"Innovation centers for tech startups",location:"Nairobi",status:"in_progress"},{id:"17",name:"Environmental Conservation",amount:52e7,currency:"KES",category:"Environment",department:"Ministry of Environment",year:2025,quarter:1,description:"Forest conservation and climate initiatives",location:"Nationwide",status:"planned"},{id:"18",name:"Public Libraries",amount:18e7,currency:"KES",category:"Education",department:"Ministry of Education",year:2025,quarter:1,description:"Modern library facilities and digital resources",location:"All Counties",status:"planned"},{id:"19",name:"Healthcare Infrastructure",amount:95e7,currency:"KES",category:"Healthcare",department:"Ministry of Health",year:2025,quarter:1,description:"Hospital construction and renovation",location:"Various Counties",status:"planned"},{id:"20",name:"Agricultural Infrastructure",amount:75e7,currency:"KES",category:"Agriculture",department:"Ministry of Agriculture",year:2025,quarter:1,description:"Irrigation systems and storage facilities",location:"Agricultural Counties",status:"planned"}];function h(){let[e,t]=(0,s.useState)(x),[a]=(0,s.useState)(()=>new m(x)),[l,c]=(0,s.useState)(null),[h,g]=(0,s.useState)(!0),[y,f]=(0,s.useState)(null),[j,b]=(0,s.useState)(null),[N,v]=(0,s.useState)(!1),[w,C]=(0,s.useState)(null),[k,S]=(0,s.useState)(null),E=(0,s.useRef)(null),A=(0,s.useRef)(null),M=(0,s.useRef)(null),D=(0,s.useRef)(null),[B,F]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{try{a.setBudgetData(e);let t=a.getBudgetSummary();c(t)}catch(e){console.error("Error initializing dashboard:",e)}finally{g(!1)}})()},[a,e]),(0,s.useEffect)(()=>{!h&&l&&I()},[h,l]);let I=()=>{M.current&&M.current.destroy(),D.current&&D.current.destroy();let e=L(),t=T();E.current&&(M.current=new n.kL(E.current,{type:"doughnut",data:{labels:e.labels,datasets:[{data:e.data,backgroundColor:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1"],borderWidth:2,borderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0}},tooltip:{callbacks:{label:function(e){let t=e.label||"",a=e.parsed;return"".concat(t,": ").concat(u.formatCurrency(a))}}}}}})),A.current&&(D.current=new n.kL(A.current,{type:"bar",data:{labels:t.labels,datasets:[{label:"Budget Amount (KES)",data:t.data,backgroundColor:"#3B82F6",borderColor:"#2563EB",borderWidth:1,borderRadius:4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(e){return u.formatCurrency(e.parsed.y)}}}},scales:{y:{beginAtZero:!0,ticks:{callback:function(e){return u.formatCurrency(e)}}}}}}))},L=()=>{let t={};return e.forEach(e=>{e.category&&e.amount&&(t[e.category]=(t[e.category]||0)+e.amount)}),{labels:Object.keys(t),data:Object.values(t)}},T=()=>{let t={};e.forEach(e=>{e.department&&e.amount&&(t[e.department]=(t[e.department]||0)+e.amount)});let a=Object.entries(t).sort((e,t)=>{let[,a]=e,[,r]=t;return r-a}).slice(0,10);return{labels:a.map(e=>{let[t]=e;return t}),data:a.map(e=>{let[,t]=e;return t})}},q=async e=>{let t=e.target.files[0];if(t){if(C(null),b(null),S(null),f(t),!["text/csv","application/pdf"].includes(t.type)){C("Please upload a CSV or PDF file only.");return}if(t.size>10485760){C("File size must be less than 10MB.");return}try{v(!0);let e=new FormData;e.append("file",t);let a=await fetch("/api/upload",{method:"POST",body:e});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to upload file")}let r=await a.json();console.log("File saved to localdb:",r),S("File successfully saved to localdb folder: ".concat(r.filename)),"text/csv"===t.type?await P(t,r):"application/pdf"===t.type&&await K(t,r)}catch(e){console.error("Error uploading/analyzing file:",e),C("Error: ".concat(e.message))}finally{v(!1)}}},P=async(r,s)=>new Promise((n,i)=>{let l=new FileReader;l.onload=async l=>{try{let i=l.target.result,o=p.parseCSV(i),d=[...e,...o];t(d),a.setBudgetData(d);let m=a.getBudgetSummary();c(m);let u={fileName:r.name,fileType:"CSV",totalRows:o.length,totalAmount:o.reduce((e,t)=>e+(t.amount||0),0),categories:[...new Set(o.map(e=>e.category).filter(Boolean))],departments:[...new Set(o.map(e=>e.department).filter(Boolean))],analysisDate:new Date().toISOString(),insights:R(o),savedToLocaldb:!0,localdbPath:s.savedPath,uploadTimestamp:s.uploadTime};b(u),setTimeout(()=>{I()},100),n()}catch(e){i(e)}},l.onerror=()=>i(Error("Failed to read file")),l.readAsText(r)}),K=async(e,t)=>{b({fileName:e.name,fileType:"PDF",totalRows:"N/A (PDF format)",totalAmount:"N/A (PDF format)",categories:["PDF analysis requires text extraction"],departments:["PDF analysis requires text extraction"],analysisDate:new Date().toISOString(),insights:["PDF files require text extraction before analysis","Consider converting PDF to CSV for detailed analysis","PDF content analysis is available in premium version"],savedToLocaldb:!0,localdbPath:t.savedPath,uploadTimestamp:t.uploadTime})},R=e=>{let t=[];if(e.length>0){let a=e.map(e=>e.amount||0).filter(e=>e>0),r=a.reduce((e,t)=>e+t,0),s=r/a.length;t.push("Total budget items: ".concat(e.length)),t.push("Total amount: ".concat(u.formatCurrency(r))),t.push("Average item amount: ".concat(u.formatCurrency(s)));let n={};e.forEach(e=>{e.category&&(n[e.category]=(n[e.category]||0)+1)});let i=Object.entries(n).sort((e,t)=>{let[,a]=e,[,r]=t;return r-a})[0];i&&t.push("Most common category: ".concat(i[0]," (").concat(i[1]," items)"))}return t};return h?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,r.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,r.jsx)(o(),{budgetData:e,summary:l,isOpen:B,onToggle:()=>F(!B)}),(0,r.jsx)(d(),{onToggle:()=>F(!B)}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,r.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Budget Dashboard"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm",children:"AI-powered insights into Kenyan government budget allocation and spending patterns"})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsxs)("button",{className:"btn-secondary",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export Report"]}),(0,r.jsxs)("button",{className:"btn-primary",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2zm0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Add Budget Item"]})]})]})}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"p-2 bg-primary-100 rounded-lg",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Budget"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:l?u.formatCurrency(l.totalBudget):"KES 0"})]})]})}),(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"p-2 bg-success-100 rounded-lg",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-success-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Budget Items"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:l?l.totalItems:0})]})]})}),(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"p-2 bg-warning-100 rounded-lg",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-warning-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Average Amount"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:l?u.formatCurrency(l.averageItemAmount):"KES 0"})]})]})}),(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"p-2 bg-secondary-100 rounded-lg",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-secondary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Departments"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:l?l.topDepartments.length:0})]})]})})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsx)("div",{className:"p-2 bg-green-100 rounded-lg mr-4",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Upload Budget Files"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Upload CSV or PDF files for AI-powered analysis and storage in localdb"})]})]}),(0,r.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[(0,r.jsx)("input",{type:"file",accept:".csv,.pdf",onChange:q,className:"hidden",id:"file-upload",disabled:N}),(0,r.jsx)("label",{htmlFor:"file-upload",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md ".concat(N?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-primary-600 text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"),children:N?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Analyzing..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Choose File"]})}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Supports CSV and PDF files up to 10MB. Files are saved to localdb folder."})]}),k&&(0,r.jsx)("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-green-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("p",{className:"text-sm text-green-700",children:k})]})}),w&&(0,r.jsx)("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("p",{className:"text-sm text-red-700",children:w})]})}),j&&(0,r.jsxs)("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,r.jsx)("h4",{className:"font-medium text-blue-900 mb-4",children:"File Analysis Results"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-sm text-blue-700 mb-2",children:[(0,r.jsx)("span",{className:"font-medium",children:"File:"})," ",j.fileName]}),(0,r.jsxs)("p",{className:"text-sm text-blue-700 mb-2",children:[(0,r.jsx)("span",{className:"font-medium",children:"Type:"})," ",j.fileType]}),(0,r.jsxs)("p",{className:"text-sm text-blue-700 mb-2",children:[(0,r.jsx)("span",{className:"font-medium",children:"Rows:"})," ",j.totalRows]}),"N/A (PDF format)"!==j.totalAmount&&(0,r.jsxs)("p",{className:"text-sm text-blue-700 mb-2",children:[(0,r.jsx)("span",{className:"font-medium",children:"Total Amount:"})," ",u.formatCurrency(j.totalAmount)]}),(0,r.jsxs)("p",{className:"text-sm text-blue-700 mb-2",children:[(0,r.jsx)("span",{className:"font-medium",children:"Saved to:"})," localdb folder"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-sm text-blue-700 mb-2",children:[(0,r.jsx)("span",{className:"font-medium",children:"Categories:"})," ",j.categories.join(", ")]}),(0,r.jsxs)("p",{className:"text-sm text-blue-700 mb-2",children:[(0,r.jsx)("span",{className:"font-medium",children:"Departments:"})," ",j.departments.join(", ")]}),(0,r.jsxs)("p",{className:"text-sm text-blue-700 mb-2",children:[(0,r.jsx)("span",{className:"font-medium",children:"Analyzed:"})," ",new Date(j.analysisDate).toLocaleString()]}),(0,r.jsxs)("p",{className:"text-sm text-blue-700 mb-2",children:[(0,r.jsx)("span",{className:"font-medium",children:"Upload Time:"})," ",new Date(j.uploadTimestamp).toLocaleString()]})]})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("h5",{className:"font-medium text-blue-900 mb-2",children:"Key Insights:"}),(0,r.jsx)("ul",{className:"list-disc list-inside space-y-1",children:j.insights.map((e,t)=>(0,r.jsx)("li",{className:"text-sm text-blue-700",children:e},t))})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Budget by Category"}),(0,r.jsx)("div",{className:"chart-container",children:(0,r.jsx)("canvas",{ref:E})})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Budget by Department (Top 10)"}),(0,r.jsx)("div",{className:"chart-container",children:(0,r.jsx)("canvas",{ref:A})})]})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Budget Items"}),(0,r.jsx)("a",{href:"/budgets",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View All →"})]}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.slice(0,5).map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.department}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.category}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:u.formatCurrency(e.amount)}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("completed"===e.status?"bg-success-100 text-success-800":"in_progress"===e.status?"bg-warning-100 text-warning-800":"planned"===e.status?"bg-primary-100 text-primary-800":"bg-gray-100 text-gray-800"),children:e.status.replace("_"," ")})}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,r.jsx)("button",{className:"text-primary-600 hover:text-primary-900 mr-3",children:"View"}),(0,r.jsx)("button",{className:"text-secondary-600 hover:text-secondary-900",children:"Edit"})]})]},e.id))})]})})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsx)("div",{className:"p-2 bg-primary-100 rounded-lg mr-4",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"AI-Powered Insights"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Automated analysis and recommendations"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"Trend Analysis"}),(0,r.jsx)("p",{className:"text-sm text-blue-700",children:"Infrastructure spending shows a 15% increase compared to last year, indicating government focus on development projects."})]}),(0,r.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-medium text-yellow-900 mb-2",children:"Anomaly Detection"}),(0,r.jsx)("p",{className:"text-sm text-yellow-700",children:"Technology budget allocation is 25% higher than historical averages, suggesting new digital transformation initiatives."})]}),(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-medium text-green-900 mb-2",children:"Efficiency Insights"}),(0,r.jsx)("p",{className:"text-sm text-green-700",children:"Healthcare department shows optimal budget utilization with 92% completion rate on planned projects."})]}),(0,r.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-medium text-purple-900 mb-2",children:"Recommendations"}),(0,r.jsx)("p",{className:"text-sm text-purple-700",children:"Consider quarterly budget reviews for infrastructure projects to ensure timely completion and cost control."})]})]})]}),(0,r.jsx)(i,{budgetData:e})]})]})]})}}},function(e){e.O(0,[674,153,971,117,744],function(){return e(e.s=4676)}),_N_E=e.O()}]);